{:timestamp=>"2016-03-24T09:38:03.770000-0400", :message=>"Compiled pipeline code:\n        @inputs = []\n        @filters = []\n        @outputs = []\n        @periodic_flushers = []\n        @shutdown_flushers = []\n\n          @input_file_1 = plugin(\"input\", \"file\", LogStash::Util.hash_merge_many({ \"sincedb_path\" => (\"/opt/logstash-infinite/logstash/.sincedb_aleph2_testing_test_logstash4__f59beccc1a64\") }, { \"path\" => (\"/tmp/sample_data/*.csv\") }, { \"type\" => (\"hdfs_test1\") }, { \"start_position\" => (\"beginning\") }, { \"add_field\" => [(\"[@metadata][sourceKey]\"), (\"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4\")] }))\n\n          @inputs << @input_file_1\n\n          @filter_csv_2 = plugin(\"filter\", \"csv\")\n\n          @filters << @filter_csv_2\n\n            @filter_csv_2_flush = lambda do |options, &block|\n              @logger.debug? && @logger.debug(\"Flushing\", :plugin => @filter_csv_2)\n\n              events = @filter_csv_2.flush(options)\n\n              return if events.nil? || events.empty?\n\n              @logger.debug? && @logger.debug(\"Flushing\", :plugin => @filter_csv_2, :events => events)\n\n                          events = @filter_mutate_3.multi_filter(events)\n  \n\n\n              events.each{|e| block.call(e)}\n            end\n\n            if @filter_csv_2.respond_to?(:flush)\n              @periodic_flushers << @filter_csv_2_flush if @filter_csv_2.periodic_flush\n              @shutdown_flushers << @filter_csv_2_flush\n            end\n\n          @filter_mutate_3 = plugin(\"filter\", \"mutate\", LogStash::Util.hash_merge_many({ \"update\" => [(\"[@metadata][sourceKey]\"), (\"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4\")] }))\n\n          @filters << @filter_mutate_3\n\n            @filter_mutate_3_flush = lambda do |options, &block|\n              @logger.debug? && @logger.debug(\"Flushing\", :plugin => @filter_mutate_3)\n\n              events = @filter_mutate_3.flush(options)\n\n              return if events.nil? || events.empty?\n\n              @logger.debug? && @logger.debug(\"Flushing\", :plugin => @filter_mutate_3, :events => events)\n\n                \n\n              events.each{|e| block.call(e)}\n            end\n\n            if @filter_mutate_3.respond_to?(:flush)\n              @periodic_flushers << @filter_mutate_3_flush if @filter_mutate_3.periodic_flush\n              @shutdown_flushers << @filter_mutate_3_flush\n            end\n\n          @output_webhdfs_4 = plugin(\"output\", \"webhdfs\", LogStash::Util.hash_merge_many({ \"path\" => (\"/app/aleph2/data/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4/managed_bucket/import/ready/ls_input_%{+yyyy.MM.dd.hh}_%{[@metadata][thread_id]}.json\") }, { \"single_file_per_thread\" => (\"true\") }, { \"host\" => (\"db001.dev.ikanow.com\") }, { \"port\" => (\"50070\") }, { \"standby_host\" => (\"api001.dev.ikanow.com\") }, { \"standby_port\" => (\"50070\") }, { \"user\" => (\"tomcat\") }, { \"codec\" => (\"json\") }, { \"flush_size\" => 32768 }, { \"idle_flush_time\" => 10 }))\n\n          @outputs << @output_webhdfs_4\n\n  def filter_func(event)\n    events = [event]\n    @logger.debug? && @logger.debug(\"filter received\", :event => event.to_hash)\n              events = cond_func_1(events)\n    \n    events\n  end\n  def output_func(event)\n    @logger.debug? && @logger.debug(\"output received\", :event => event.to_hash)\n              if ((event[\"[@metadata][sourceKey]\"] == (\"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4\"))) # if [@metadata][sourceKey] == \"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4\"\n      @output_webhdfs_4.handle(event)\n      \n    \n              end\n    \n  end\n          def cond_func_1(input_events)\n            result = []\n            input_events.each do |event|\n              events = [event]\n              if ((event[\"[@metadata][sourceKey]\"] == (\"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4\"))) # if [@metadata][sourceKey] == \"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4\"\n            events = @filter_csv_2.multi_filter(events)\n              events = @filter_mutate_3.multi_filter(events)\n  \n\n              end\n              result += events\n            end\n            result\n          end\n", :level=>:debug, :file=>"logstash/pipeline.rb", :line=>"38", :method=>"initialize"}
{:timestamp=>"2016-03-24T09:38:03.786000-0400", :message=>"Plugin not defined in namespace, checking for plugin file", :type=>"input", :name=>"file", :path=>"logstash/inputs/file", :level=>:debug, :file=>"logstash/plugin.rb", :line=>"76", :method=>"lookup"}
{:timestamp=>"2016-03-24T09:38:03.803000-0400", :message=>"Plugin not defined in namespace, checking for plugin file", :type=>"codec", :name=>"plain", :path=>"logstash/codecs/plain", :level=>:debug, :file=>"logstash/plugin.rb", :line=>"76", :method=>"lookup"}
{:timestamp=>"2016-03-24T09:38:03.812000-0400", :message=>"config LogStash::Codecs::Plain/@charset = \"UTF-8\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.815000-0400", :message=>"config LogStash::Inputs::File/@sincedb_path = \"/opt/logstash-infinite/logstash/.sincedb_aleph2_testing_test_logstash4__f59beccc1a64\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.820000-0400", :message=>"config LogStash::Inputs::File/@path = [\"/tmp/sample_data/*.csv\"]", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.823000-0400", :message=>"config LogStash::Inputs::File/@type = \"hdfs_test1\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.826000-0400", :message=>"config LogStash::Inputs::File/@start_position = \"beginning\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.828000-0400", :message=>"config LogStash::Inputs::File/@add_field = {\"[@metadata][sourceKey]\"=>\"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4\"}", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.829000-0400", :message=>"config LogStash::Inputs::File/@codec = <LogStash::Codecs::Plain charset=>\"UTF-8\">", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.831000-0400", :message=>"config LogStash::Inputs::File/@stat_interval = 1", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.833000-0400", :message=>"config LogStash::Inputs::File/@discover_interval = 15", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.834000-0400", :message=>"config LogStash::Inputs::File/@sincedb_write_interval = 15", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.837000-0400", :message=>"config LogStash::Inputs::File/@delimiter = \"\\n\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.840000-0400", :message=>"Plugin not defined in namespace, checking for plugin file", :type=>"filter", :name=>"csv", :path=>"logstash/filters/csv", :level=>:debug, :file=>"logstash/plugin.rb", :line=>"76", :method=>"lookup"}
{:timestamp=>"2016-03-24T09:38:03.885000-0400", :message=>"config LogStash::Filters::CSV/@add_tag = []", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.886000-0400", :message=>"config LogStash::Filters::CSV/@remove_tag = []", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.890000-0400", :message=>"config LogStash::Filters::CSV/@add_field = {}", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.892000-0400", :message=>"config LogStash::Filters::CSV/@remove_field = []", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.897000-0400", :message=>"config LogStash::Filters::CSV/@periodic_flush = false", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.898000-0400", :message=>"config LogStash::Filters::CSV/@source = \"message\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.900000-0400", :message=>"config LogStash::Filters::CSV/@columns = []", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.901000-0400", :message=>"config LogStash::Filters::CSV/@separator = \",\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.902000-0400", :message=>"config LogStash::Filters::CSV/@quote_char = \"\\\"\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.904000-0400", :message=>"config LogStash::Filters::CSV/@autogenerate_column_names = true", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.905000-0400", :message=>"config LogStash::Filters::CSV/@skip_empty_columns = false", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.906000-0400", :message=>"config LogStash::Filters::CSV/@convert = {}", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.908000-0400", :message=>"Plugin not defined in namespace, checking for plugin file", :type=>"filter", :name=>"mutate", :path=>"logstash/filters/mutate", :level=>:debug, :file=>"logstash/plugin.rb", :line=>"76", :method=>"lookup"}
{:timestamp=>"2016-03-24T09:38:03.927000-0400", :message=>"config LogStash::Filters::Mutate/@update = {\"[@metadata][sourceKey]\"=>\"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4\"}", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.929000-0400", :message=>"config LogStash::Filters::Mutate/@add_tag = []", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.930000-0400", :message=>"config LogStash::Filters::Mutate/@remove_tag = []", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.931000-0400", :message=>"config LogStash::Filters::Mutate/@add_field = {}", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.933000-0400", :message=>"config LogStash::Filters::Mutate/@remove_field = []", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.936000-0400", :message=>"config LogStash::Filters::Mutate/@periodic_flush = false", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.940000-0400", :message=>"Plugin not defined in namespace, checking for plugin file", :type=>"output", :name=>"webhdfs", :path=>"logstash/outputs/webhdfs", :level=>:debug, :file=>"logstash/plugin.rb", :line=>"76", :method=>"lookup"}
{:timestamp=>"2016-03-24T09:38:03.961000-0400", :message=>"Plugin not defined in namespace, checking for plugin file", :type=>"codec", :name=>"json", :path=>"logstash/codecs/json", :level=>:debug, :file=>"logstash/plugin.rb", :line=>"76", :method=>"lookup"}
{:timestamp=>"2016-03-24T09:38:03.968000-0400", :message=>"config LogStash::Codecs::JSON/@charset = \"UTF-8\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.971000-0400", :message=>"config LogStash::Outputs::WebHdfs/@path = \"/app/aleph2/data/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4/managed_bucket/import/ready/ls_input_%{+yyyy.MM.dd.hh}_%{[@metadata][thread_id]}.json\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.974000-0400", :message=>"config LogStash::Outputs::WebHdfs/@single_file_per_thread = true", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.985000-0400", :message=>"config LogStash::Outputs::WebHdfs/@host = \"db001.dev.ikanow.com\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.986000-0400", :message=>"config LogStash::Outputs::WebHdfs/@port = 50070", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.988000-0400", :message=>"config LogStash::Outputs::WebHdfs/@standby_host = \"api001.dev.ikanow.com\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.989000-0400", :message=>"config LogStash::Outputs::WebHdfs/@standby_port = 50070", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.990000-0400", :message=>"config LogStash::Outputs::WebHdfs/@user = \"tomcat\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.991000-0400", :message=>"config LogStash::Outputs::WebHdfs/@codec = <LogStash::Codecs::JSON charset=>\"UTF-8\">", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.993000-0400", :message=>"config LogStash::Outputs::WebHdfs/@flush_size = 32768", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.994000-0400", :message=>"config LogStash::Outputs::WebHdfs/@idle_flush_time = 10", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.995000-0400", :message=>"config LogStash::Outputs::WebHdfs/@workers = 1", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:03.996000-0400", :message=>"config LogStash::Outputs::WebHdfs/@open_timeout = 30", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:04.013000-0400", :message=>"config LogStash::Outputs::WebHdfs/@read_timeout = 30", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:04.024000-0400", :message=>"config LogStash::Outputs::WebHdfs/@use_httpfs = false", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:04.025000-0400", :message=>"config LogStash::Outputs::WebHdfs/@retry_known_errors = true", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:04.027000-0400", :message=>"config LogStash::Outputs::WebHdfs/@retry_interval = 0.5", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:04.028000-0400", :message=>"config LogStash::Outputs::WebHdfs/@retry_times = 5", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:04.029000-0400", :message=>"config LogStash::Outputs::WebHdfs/@compression = \"none\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:04.030000-0400", :message=>"config LogStash::Outputs::WebHdfs/@snappy_bufsize = 32768", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:04.031000-0400", :message=>"config LogStash::Outputs::WebHdfs/@snappy_format = \"stream\"", :level=>:debug, :file=>"logstash/config/mixin.rb", :line=>"122", :method=>"config_init"}
{:timestamp=>"2016-03-24T09:38:04.262000-0400", :message=>"Registering file input", :path=>["/tmp/sample_data/*.csv"], :level=>:info, :file=>"logstash/inputs/file.rb", :line=>"129", :method=>"register"}
{:timestamp=>"2016-03-24T09:38:04.275000-0400", :message=>"Worker threads expected: 4, worker threads started: 4", :level=>:info, :file=>"logstash/pipeline.rb", :line=>"186", :method=>"start_filters"}
{:timestamp=>"2016-03-24T09:38:04.284000-0400", :message=>"_sincedb_open: reading from /opt/logstash-infinite/logstash/.sincedb_aleph2_testing_test_logstash4__f59beccc1a64", :level=>:debug, :file=>"filewatch/tail.rb", :line=>"219", :method=>"_sincedb_open"}
{:timestamp=>"2016-03-24T09:38:04.290000-0400", :message=>"_sincedb_open: setting [\"272501\", 0, 51776] to 63", :level=>:debug, :file=>"filewatch/tail.rb", :line=>"223", :method=>"_sincedb_open"}
{:timestamp=>"2016-03-24T09:38:04.294000-0400", :message=>"_sincedb_open: setting [\"275028\", 0, 51776] to 63", :level=>:debug, :file=>"filewatch/tail.rb", :line=>"223", :method=>"_sincedb_open"}
{:timestamp=>"2016-03-28T09:32:39.504000-0400", :message=>"Received line", :path=>"/tmp/sample_data/sample4.csv", :text=>"c, 3", :level=>:debug, :file=>"logstash/inputs/file.rb", :line=>"207", :method=>"log_line_received"}
{:timestamp=>"2016-04-04T12:01:10.477000-0400", :message=>"closing", :plugin=><LogStash::Filters::Mutate update=>{"[@metadata][sourceKey]"=>"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4"}, periodic_flush=>false>, :level=>:debug, :file=>"logstash/plugin.rb", :line=>"35", :method=>"do_close"}
{:timestamp=>"2016-04-04T12:01:10.478000-0400", :message=>"closing", :plugin=><LogStash::Filters::Mutate update=>{"[@metadata][sourceKey]"=>"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4"}, periodic_flush=>false>, :level=>:debug, :file=>"logstash/plugin.rb", :line=>"35", :method=>"do_close"}
{:timestamp=>"2016-04-04T12:01:10.476000-0400", :message=>"closing", :plugin=><LogStash::Filters::Mutate update=>{"[@metadata][sourceKey]"=>"/aleph2_testing/54f86d8de4b03d27d1ea0d7b/bucket/test/logstash4"}, periodic_flush=>false>, :level=>:debug, :file=>"logstash/plugin.rb", :line=>"35", :method=>"do_close"}